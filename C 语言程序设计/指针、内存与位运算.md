## 指针、内存和位运算

### 指针和内存

在 C 语言中有一类变量，它们被我们称为 指针（pointer） 或 指针变量（pointer variable）。

我们一直将它称为“储存地址的变量”

C 语言的编译器会根据指针的类型决定指针指向的对象的长度

我们的程序本身会被加载到内存，程序的字面量和变量在程序运行时也都会被存储在内存中。指针让我们可以更为灵活地进行一些涉及内存的操作，也为程序设计中的一些复杂结构设计提供了方便。

### 动态分配内存

<img src="C:\Users\xuyingfeng\AppData\Roaming\Typora\typora-user-images\image-20200823234305638.png" alt="image-20200823234305638" style="zoom:150%;" />

C 语言程序在编译时会被分配到内存上的一片有限的连续区域，这部分内存会被用于存储局部变量（在某一个函数内声明的变量）的值。我们平时声明局部变量、给局部变量赋值的时候就在使用这部分的内存。这部分的内存区域被我们称为——栈区（stack）。

相对应的还有一片区域叫做 堆区（heap），这部分的内存是我们通过程序手动地向系统申请的。栈区内存大小编译时就已经被限制，如果使用超过限制的内存就会出现“溢出”的情况，而堆区的内存可以一直被申请、使用，直到操作系统中的有效内存无法再被申请为止，相比之下，堆区控制起来更为灵活。

除此之外，还有一块 全局区（或为静态区，static storage area），程序中的全局变量和静态变量都被存储在这块内存区域中。这块内存我们既不说它是“栈区”，也不说它是“堆区”。

正是因为栈区上内存大小受限的缘故，在内存需要比较大的（超出栈区限制）的情况下，我们会需要申请堆区上的内存。但是，堆区被申请后，在使用的过程中若不释放就可能会出现“内存泄漏（memory leak）”。

如果我们需要使用堆上内存，我们就会需要将malloc.h或stdlib.h引入到程序中来。在这两个标准库中，都定义了申请、管理堆区上内存的函数。

int *p;//p在栈上面

p = (int *) malloc(sizeof(int));//申请了在堆上面的空间

声明一个整数型的指针p，向系统申请堆区上sizeof(int)（表示一个整数型变量所需的内存空间大小）的一块内存空间，并将指针p赋值为这片空间所在的起始地址，使得p指向这片空间。

要对值进行修改，采用*p = 4;的方式修改它指向的空间内存储的值。

### 长度未知的大数组